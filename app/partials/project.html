<div ng-controller="ProjectController as projectController" class="project-controller">
    <div ng-repeat="project in projectController.projects track by project.id " class="project-block">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">{{project.name}}</h3>
            </div>
            <div class="panel-body">
                <p ng-if="project.estimated_end_date"><i18n class="project-desc-title">_PROJECTS_ESTIMATED_END_DATE_</i18n> : {{project.estimated_end_date}}</p>
                <p ng-if="project.last_update_date"><i18n class="project-desc-title">_PROJECTS_LAST_UPDATE_</i18n> : {{project.last_update_date}}</p>
                <p ng-if="project.project_manager"><i18n class="project-desc-title">_PROJECTS_PROJECT_MANAGER_</i18n> : {{project.project_manager}}</p>
                <p ng-if="project.status"><i18n class="project-desc-title">_PROJECTS_PROJECT_STATUS_</i18n> : {{project.status}}</p>
                <p ng-if="project.url"><i18n class="project-desc-title">_PROJECTS_PROJECT_URL_</i18n> : {{project.url}}</p>
                <p ng-if="project.bilan"><i18n class="project-desc-title">_PROJECTS_PROJECT_BILAN_</i18n> : <p ng-bind-html="project.bilan"></p></p>

                <button class="btn btn-block" ng-click="project.load()"><i18n>_PROJECTS_LOAD_PROJECT_</i18n></button><!--  Project.prototype.loaded = undefined; -->
            </div>
        </div>
    </div>
    <button class="btn btn-block btn-load-project" ng-click="projectController.getRemoteProjects()">
        <i18n ng-if="projectController.projects.length === 0">_PROJECTS_GET_PROJECT_</i18n>
        <i18n ng-if="projectController.projects.length !== 0">_PROJECTS_REFRESH_PROJECT_</i18n>
    </button>
</div>
